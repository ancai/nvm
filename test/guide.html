<!DOCTYPE html>
<html lang="zh_CN">
<head>
  <meta charset="utf-8">
  <title>mvvm-guide</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="author" content="">
  <meta name="copyright" content="">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1">
  <meta name="format-detection" content="telephone=no, email=no, address=no">
  <link rel="stylesheet" href="assets/prism.css">
  <link rel="stylesheet" href="assets/index.css">
  <script type="text/javascript" src="mvvm.155b30911aebec148a1c.js"></script>
</head>
<body>
  <nav>
    <ul>
      <li><a href="#数据绑定">数据绑定</a></li>
      <li><a href="#过滤器">过滤器</a></li>
      <li><a href="#条件和循环">条件和循环</a></li>
      <li><a href="#用户输入">用户输入</a></li>
      <li><a href="#计算属性">计算属性</a></li>
      <li><a href="#绑定事件">绑定事件</a></li>
    </ul>
  </nav>
  <div class="wrap" id="wrap">
    <h2 id="数据绑定">数据绑定</h2>
    <p>使用 n-html(不过滤特殊字符) 或 {{}} 把数据绑定到DOM结点上</p>
    <p class="remark">双花括号会将数据解释为普通文本，而非 HTML 代码；为了输出真正的 HTML，需要使用 n-html 指令</p>
    <div class="code-block">
      <pre><code class="language-markup">
        <div id="app">
          <span n-html="msg"></span>
          <span>{{99 + 99}}</span>
        </div>
      </code></pre>
      <pre><code class="language-javascript"></code></pre>
    </div>
    <div class="demo">
      <div id="_app">
        <span n-html="msg"></span>
        <span>{{99 + 99}}</span>
      </div>
      <script>
        const app = new MVVM({
          el: '#_app',
          data: {
            msg: 'hello world!'
          }
        })
      </script>
    </div>
    <h2 id="过滤器">过滤器</h2>
    <p>strLen为内置过滤器：展示前N个字符，true表示追加“...”省略号</p>
    <p>通过配置filters选项，添加自定义过滤器</p>
    <div class="code-block">
      <pre><code class="language-markup">
        <div id="app-2">
          <span>{{msg | strLen(10, true)}}</span>
          <span>{{dt | dateFormat}}</span>
        </div>
      </code></pre>
      <pre><code class="language-javascript"></code></pre>
    </div>
    <div class="demo">
      <div id="_app-2">
        <span>{{msg | strLen(10, true)}}</span>
        <span>{{dt | dateFormat}}</span>
      </div>
      <script>
        const app2 = new MVVM({
          el: '#_app-2',
          data: {
            msg: 'study frontend development skills!',
            dt: Date.now()
          },
          filters: {
            dateFormat: value => {
              const dt = new Date(value)
              return dt.getFullYear() + '-' + dt.getMonth() + 1 + '-' + dt.getDate()
            }
          },
        })
      </script>
    </div>
    <h2 id="条件和循环">条件和循环</h2>
    <p>n-if n-for 分别控制条件 和 循环</p>
    <div class="code-block">
      <pre><code class="language-markup">
        <div id="app-3">
          <span n-for="(item, index) in list" n-if="index < 3">{{index}}->{{item}}，</span>
        </div>
      </code></pre>
      <pre><code class="language-javascript"></code></pre>
    </div>
    <div class="demo">
      <div id="_app-3">
        <span n-for="(item, index) in list" n-if="index < 3">{{index}}->{{item}}，</span>
      </div>
      <script>
        const app3 = new MVVM({
          el: '#_app-3',
          data: {
            list: ['js', 'css', 'html', '看不到我哦']
          }
        })
      </script>
    </div>
    <h2 id="用户输入">用户输入</h2>
    <p>n-model 完成表单 和 数据的 双向绑定</p>
    <div class="code-block">
      <pre><code class="language-markup">
        <div id="app-4">
          <input type="text" n-model="message">
          <span>{{message}}</span>
        </div>
      </code></pre>
      <pre><code class="language-javascript"></code></pre>
    </div>
    <div class="demo">
      <div id="_app-4">
        <input type="text" n-model="message">
        <span>{{message}}</span>
      </div>
      <script>
        const app4 = new MVVM({
          el: '#_app-4',
          data: {
            message: 'Hello MVVM!'
          }
        })
      </script>
    </div>
    <h2 id="计算属性">计算属性</h2>
    <p>通过配置computed选项，添加计算属性</p>
    <div class="code-block">
      <pre><code class="language-markup">
        <div id="app-5">
          <span>{{reversedMsg}}</span>
        </div>
      </code></pre>
      <pre><code class="language-javascript"></code></pre>
    </div>
    <div class="demo">
      <div id="_app-5">
        <span>{{reversedMsg}}</span>
      </div>
      <script>
        const app5 = new MVVM({
          el: '#_app-5',
          data: {
            message: 'ABCDEF'
          },
          computed: {
            reversedMsg () {
              return [...this.message].reverse().join('->')
            }
          }
        })
      </script>
    </div>
    <h2 id="绑定事件">绑定事件</h2>
    <p> n-on 指令绑定 DOM 事件，并触发相应的事件函数</p>
    <div class="code-block">
      <pre><code class="language-markup">
        <div id="app-6">
          <p>
            <button @click="greet">点我呀</button>
            <span>{{num}}</span>
          </p>
          <p>
            <button @click="getColor('red')">红</button>
            <button @click="getColor('yellow')">黄</button>
            <button @click="getColor('green')">绿</button>
            <span>您选择了：{{color}}</span>
          </p>
        </div>
      </code></pre>
      <pre><code class="language-javascript"></code></pre>
    </div>
    <div class="demo">
      <div id="_app-6">
        <p>
          <button @click="greet">点我呀</button>
          <span>{{num}}</span>
        </p>
        <p>
          <button @click="getColor(red)">红</button>
          <button @click="getColor(yellow)">黄</button>
          <button @click="getColor(green)">绿</button>
          <span>您选择了：{{color}}</span>
        </p>
      </div>
      <script>
        const app6 = new MVVM({
          el: '#_app-6',
          data: {
            num: 999,
            color: ''
          },
          methods: {
            greet(evt) {
              this.num = parseInt(Math.random() * 1000)
              console.log('event default param:', evt)
            },
            getColor (colorVal, evt) {
              this.color = colorVal
              console.log('event params:', colorVal, evt)
            }
          }
        })
      </script>
    </div>
  </div>
  <script src="assets/index.js"></script>
  <script defer src="assets/prism.js"></script>
</body>
</html>
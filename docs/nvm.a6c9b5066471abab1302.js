!function(t){var e={};function i(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);let s=0;class r{constructor(){this.id=s++,this.subs=[]}addSub(t){this.subs.push(t)}depend(){r.target.addDep(this)}removeSub(t){const e=this.subs.indexOf(t);-1!=e&&this.subs.splice(e,1)}notify(){this.subs.forEach(t=>{t.update()})}}r.target=null;var n=r;const o=/([+\-*!><]|[&|]{2}|={2,3})+/,a=/^[a-zA-Z_][0-9.]*/i;var l=t=>{let e,i,s,r,n="if (obj) { let val; ";if(/([\w.]+)\s+\|\s+(\w+)(\((.*)\))?/.test(t)&&(s=RegExp.$1,e=RegExp.$2,i=RegExp.$4),e)n+=`val = obj.filters.${e}(${r=i?`obj.data.${s}, ${i}`:`obj.data.${s||t}`});`;else if(o.test(t))n+="val = ",t.split(o).forEach(t=>{const e=t.trim();a.test(e)&&(n+="obj."),n+=e}),n+=";";else{n+=`val = obj.${t};`;let{ancestor:e,end:i}=(t=>{let e,i;return/^([\w.]+)\.(\w+)$/.test(t)?(e=RegExp.$1,i=RegExp.$2):(e="",i=t),{ancestor:e,end:i}})(s||t);e&&(e="."+e),n+=`if (obj.${s||t} === undefined) { obj.observe(obj${e}, '${i}') };`}return n+="return val; }",new Function("obj",n)};const c=new class{constructor(){this.queue=[],this.reset()}reset(){this.has={},this.queue.length=0,this.waiting=!1}push(t){this.has[t.id]||(this.queue.push(t),this.has[t.id]=1,this.waiting||(this.waiting=!0,setTimeout(()=>this.flush(),1)))}flush(){this.queue.forEach(t=>{t.run()}),this.reset()}};let h=0;var d=class{constructor(t,e,i){this.id=h++,this.cb=i,this.vm=t,this.expOrFn=e,this.depIds={},this.getter="function"==typeof e?e:this.parseGetter(e),this.value=this.get()}update(){c.push(this)}run(){const t=this.get(),e=this.value;t!==e&&(this.value=t,this.cb.call(this.vm,t,e)),Array.isArray(t)&&this.cb.call(this.vm,t,e)}addDep(t){this.depIds.hasOwnProperty(t.id)||(t.addSub(this),this.depIds[t.id]=t)}get(){n.target=this;const t=this.getter.call(this.vm,this.vm);return n.target=null,t}parseGetter(t){return l(t)}};const p=t=>t&&"object"==typeof t,u=(t,e,i)=>{t.hasOwnProperty(i)||Reflect.defineProperty(t,i,{enumerable:!0,configurable:!1,get:()=>e[i],set(t){e[i]=t}})};class f{constructor(t){this.data=t,this.walk(t)}walk(t){Reflect.ownKeys(t).forEach(e=>{const i=t[e];void 0!==i&&(null!==i&&i.__obv__||m(t,e))})}}const m=(t,e)=>{const i=new n,s=Reflect.getOwnPropertyDescriptor(t,e);if(s&&!1===s.configurable)return;let r=t[e];(p(r)||(t=>Array.isArray(t))(r))&&Reflect.defineProperty(r,"__obv__",{value:1,enumerable:!1,configurable:!1}),Array.isArray(r)?(t[e]=r=v(t[e],i),r.forEach(t=>b(t))):b(r),Reflect.defineProperty(t,e,{enumerable:!0,configurable:!1,get:()=>(n.target&&i.depend(),r),set(t){t!==r&&(r=t,Array.isArray(r)?(r=v(r,i)).forEach(t=>b(t)):b(r),i.notify())}})},v=(t,e)=>{const i=[];return["push","pop","shift","unshift","splice","sort","reverse"].forEach(t=>{i[t]=function(...i){const s=Array.prototype[t].apply(this,i);return e.notify(),s}}),Reflect.setPrototypeOf(t,i),t},b=(t,e)=>{if(p(t))return t&&e&&m(t,e),new f(t)};var g=b;let y={},E=0;const _={text(t,e,{exp:i}){let s,r=i;t._uid?(s=y[t._uid]).tokens[r]=e:(t._uid=++E,y[E]=s={tokens:{[r]:e},template:t.textContent});let n,o=s.template;Reflect.ownKeys(s.tokens).forEach(t=>{null==(n=s.tokens[t])&&(n=""),o=o.replace(`{{${t}}}`,n)}),t.textContent=o},html(t,e){t.innerHTML=(t=>void 0!==t?t:"")(e)},class(t,e,i){e?t.classList.add(i):t.classList.remove(i)},model(t,e){t.value=e},hide(t,e){t.style.display=e?"none":t._originalDisplay},show(t,e){t.style.display=e?t._originalDisplay:"none"}},w=(t,e,{dir:i})=>{t.setAttribute(i,e)};var x=t=>_[t]||w;var N={C_IF:"n-if",C_FOR:"n-for",isDirective:t=>/^(n-|:|@)/.test(t),isString:t=>t&&"string"==typeof t,isEventDirective:t=>/^@/.test(t),isElementNode:t=>t.nodeType===Node.ELEMENT_NODE,isTextNode:t=>t.nodeType===Node.TEXT_NODE,isFragmentNode:t=>t.nodeType===Node.DOCUMENT_FRAGMENT_NODE,isRepeatNode:t=>t.hasAttribute("n-for"),isIfNode:t=>t.hasAttribute("n-if"),isPriorityDirs(t){return this.isRepeatNode(t)||this.isIfNode(t)},nodeToFragment(t){const e=document.createDocumentFragment();let i;for(;i=t.firstChild;)e.appendChild(i);return e},stringToNode:t=>(new DOMParser).parseFromString(t,"text/html").body.firstChild,before(t,e){e.before?e.before(t):e.parentNode.insertBefore(t,e)},after(t,e){e.after?e.after(t):e.parentNode.insertBefore(t,e)},replaceWith(t,e){e.replaceWith?e.replaceWith(t):e.parentNode.replaceChild(t,e)},remove(t){t.remove?t.remove():t.parentNode.removeChild(t)},includes(t,e){if(t.includes)return t.includes(e);{let i=0;for(let s=0;s<t.length;s++)if(t[s]===e){i=1;break}return i}}};var A=class{constructor(t,e){this.template=t.cloneNode(!0),this.vm=e,this.ref=document.createComment("n-if"),this.inserted=!1,N.before(this.ref,t),N.remove(t)}update(t){t?this.inserted||(this.build(this.template,t),N.remove(this.ref),this.inserted=!0):this.inserted&&(this.ref=document.createComment("n-if"),N.before(this.ref,this.template),N.remove(this.template),this.inserted=!1)}build(t){const e={};e.__proto__=this.vm.data;const i=new H({template:t,parent:this.vm,data:e});N.after(i.rendered(),this.ref)}};var j=class{constructor(t,e){this.ref=document.createComment("n-for"),this.template=t.cloneNode(!0),this.vm=e,this.forVM=new Map,this.data=[],N.replaceWith(this.ref,t)}update(t,e){t&&Array.isArray(t)&&this.diff(t,e)}diff(t,e){let i=this.ref;t.forEach((t,s)=>{this.forVM.has(t)?setTimeout(()=>this.forVM.get(t).data[e[1]]=s):this.build(t,s,e,i),(i=i.nextElementSibling)||(i=this.ref)}),this.removeInvalid(t)}build(t,e,i,s){const[r,n]=i,o={[r]:t,[n]:e};o.__proto__=this.vm.data;const a=new H({template:this.template.cloneNode(!0),parent:this.vm,data:o,_cache:t});N.after(a.rendered(),s),this.forVM.set(t,a)}removeInvalid(t){const e=this.data;let i=!0;t&&e&&(this.data=e.filter(e=>{if(!N.includes(t,e)){if(this.forVM.has(e)){const t=this.forVM.get(e);N.remove(t.template),this.forVM.delete(e)}i=!1}return i}),this.data.length=0,t.forEach(t=>this.data.push(t)))}};const O=/\{\{((?:.|\n)+?)\}\}/g,R={text(t,e){const i=t.textContent;let s,r,n,o;for(O.lastIndex=n=0;s=O.exec(i);)(r=s.index)>=n&&(o=s[1].trim()),n=r+s[0].length,C(t,e,o,"text")},n_if(t,e,i){const s=new A(t,e);s.update(T(e,i)),new d(e,i,()=>s.update(T(e,i)))},n_for(t,e,i){const s=new j(t,e),[r,n]=i.split(/ in /).map(t=>t.trim()),o=/\((\w+),\s?(\w+)\)/g.test(r)?[RegExp.$1,RegExp.$2]:[r||"item","index"];s.update(T(e,n),o),new d(e,n,()=>s.update(T(e,n),o))},model(t,e,i){C(t,e,i,"model");let s=T(e,i);t.addEventListener("input",t=>{const r=t.target.value;s!==r&&($(e,i,r),s=r)})},class(t,e,i){const s=x("class");i.replace(/{|}|'/g,"").split(/,/).forEach(i=>{const[r,n]=i.split(":").map(t=>t.trim());s(t,T(e,n),r),n.split(/[<>&&!||]/).forEach(i=>{const o=i.trim();o&&/[^\d]/.test(o)&&new d(e,o,()=>{s(t,T(e,n),r)})})})}},C=(t,e,i,s)=>{console.log(i,s);const r=x(s),n=T(e,i);t.nodeType===Element.ELEMENT_NODE&&(t._originalDisplay=t.style.display),r(t,n,{exp:i,dir:s}),new d(e,i,(e,n)=>r(t,e,{exp:i,oldVal:n,dir:s}))},T=(t,e)=>l(e)(t),$=(t,e,i)=>(t=>new Function("obj","val",`obj.${t} = val`))(e)(t,i);var D={bind:(t,e,i,s)=>{R[t]?R[t](e,i,s):C(e,i,s,t)},eventBind:(t,e,i,s)=>{let r,n=s;/^(\w+)(\((.*)\))?$/.test(s)&&(n=RegExp.$1,r=RegExp.$3);let o=t,a=i.listener[n];o&&(a||(a=new Function("this."+s)),e.addEventListener(o,t=>{let e=[];r&&(e=r.split(/,/).map(t=>{let e=i.data[t.trim()];return void 0===e&&(e=t.trim()),e})),e.push(t),a.bind(i,...e)()},!1))}};const{C_IF:M,C_FOR:P,isElementNode:F,isString:I,nodeToFragment:S,isDirective:V,isEventDirective:k,isTextNode:L,isRepeatNode:q,isIfNode:B,stringToNode:W}=N;var G=class{constructor(t){this.vm=t,this.fragment=null,t.el?this.init(t.el,t.template):this.localProc(t.template)}init(t,e){let i;I(t)&&(t=document.querySelector(t)),e||(i=e=S(t)),I(e)&&(i=W(e)),F(e)&&(i=S(e)),this.compileElement(i),t.appendChild(i),this.fragment=i}localProc(t){let e=document.createDocumentFragment();I(t)&&(t=W(t)),F(t)&&e.appendChild(t),this.fragment=e,this.compileElement(e)}compileElement(t){const e=t.childNodes;Array.from(e).forEach(t=>{F(t)?q(t)?this.compileRepeat(t):B(t)?this.compileIf(t):(this.compile(t),t.hasChildNodes()&&this.compileElement(t)):L(t)&&D.bind("text",t,this.vm)})}compile(t){const e=t.attributes;Array.from(e).forEach(e=>{const i=e.name;if(V(i)){const s=e.value,r=i.substring(/^(@|:)/.test(i)?1:2);k(i)?D.eventBind(r,t,this.vm,s):D.bind(r,t,this.vm,s),t.removeAttribute(i)}})}compileText(t){D.text(t,this.vm)}compileRepeat(t){const e=t.getAttribute(P);t.removeAttribute(P),D.bind("n_for",t,this.vm,e)}compileIf(t){const e=t.getAttribute(M);t.removeAttribute(M),D.bind("n_if",t,this.vm,e)}},K={strLen(t="",e,i){e*=2;let s="",r=0;for(let n=0;n<t.length;n++){if(t.charCodeAt(n)>255?r+=2:r++,r>=e)return i?s+"...":s;s+=t.charAt(n)}return t}};class z{constructor(t={}){this.options=t;const e=this.data=this.options.data;this.template=t.template||"",this.el=t.el,this.parent=t.parent;const i=this.options.methods||{};i.__proto__=this.parent&&this.parent.listener,this.listener=i,this.filters=Object.assign(t.filters||{},K),this.proxyData(e),this.initComputed(),g(e),this.observe=g,this.compile=new G(this),t.created&&t.created.call(this)}watch(t,e){new d(this,t,e)}proxyData(t){for(const e in t)u(this,t,e)}initComputed(){const t=this.options.computed;"object"==typeof t&&Object.keys(t).forEach(e=>{Object.defineProperty(this,e,{get:"function"==typeof t[e]?t[e]:t[e].get,set(){}})})}rendered(){return this.compile.fragment}}window.NVM=window.nvm=z;var H=e.default=z}]);